(function(){"use strict";var e={8916:function(e,n,t){var r=t(9242),i=t(678),o=t(3396);const u=(0,o._)("p",null,"This page is a work in progress! Later you'll be able to place the red dot manually.",-1),a=(0,o._)("button",null,"Create",-1);function l(e,n,t,i,l,s){return(0,o.wg)(),(0,o.iD)("div",null,[u,(0,o._)("form",{onSubmit:n[3]||(n[3]=(...e)=>s.submit&&s.submit(...e))},[(0,o.wy)((0,o._)("input",{required:"","onUpdate:modelValue":n[0]||(n[0]=e=>l.url=e),type:"url",placeholder:"URL"},null,512),[[r.nr,l.url]]),(0,o.wy)((0,o._)("input",{required:"","onUpdate:modelValue":n[1]||(n[1]=e=>l.x=e),type:"number",placeholder:"X"},null,512),[[r.nr,l.x]]),(0,o.wy)((0,o._)("input",{required:"","onUpdate:modelValue":n[2]||(n[2]=e=>l.y=e),type:"number",placeholder:"Y"},null,512),[[r.nr,l.y]]),a],32)])}t(2801);var s={data(){return{url:"",x:"",y:""}},computed:{config(){return encodeURIComponent(window.btoa(JSON.stringify({url:this.url,x:this.x,y:this.y})))}},methods:{submit(){this.$router.push({name:"view",params:{config:this.config}})}}},d=t(89);const c=(0,d.Z)(s,[["render",l]]);var h=c,p=t(7139);function f(e,n,t,r,i,u){const a=(0,o.up)("ImageViewer");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Uk)((0,p.zw)(u.config)+" ",1),(0,o.Wm)(a,{url:u.config.url,x:u.config.x,y:u.config.y},null,8,["url","x","y"])])}const g=["src"],m={class:"blind"},w={class:"instructions"};function v(e,n,t,i,u,a){return(0,o.wg)(),(0,o.iD)("div",{id:"container",onTouchstart:n[0]||(n[0]=(...e)=>a.show&&a.show(...e)),onTouchend:n[1]||(n[1]=(...e)=>a.hide&&a.hide(...e)),onMousedown:n[2]||(n[2]=(...e)=>a.show&&a.show(...e)),onMouseup:n[3]||(n[3]=(...e)=>a.hide&&a.hide(...e)),onDragstart:n[4]||(n[4]=(...e)=>a.show&&a.show(...e)),onDragend:n[5]||(n[5]=(...e)=>a.hide&&a.hide(...e))},[(0,o._)("img",{ref:"image",src:t.url,style:(0,p.j5)(a.imageStyle)},null,12,g),(0,o.wy)((0,o._)("div",m,null,512),[[r.F8,u.blind]]),(0,o.wy)((0,o._)("div",{class:"circle",style:(0,p.j5)(a.circleStyle)},null,4),[[r.F8,u.blind]]),(0,o.wy)((0,o._)("div",w,"Keep your eyes on the red dot and tap and hold to view the image",512),[[r.F8,u.blind]])],32)}var y={props:["url","x","y"],mounted(){this.$refs.image.onload=()=>{this.onload()}},data(){return{loaded:!1,styled:!1,blind:!0}},computed:{image(){return this.$refs.image},scale(){if(this.loaded)return Math.min(window.innerHeight/this.image.naturalHeight,window.innerWidth/this.image.naturalWidth)},imageStyle(){if(!this.loaded)return;const e=this.image.naturalWidth*this.scale,n=this.image.naturalHeight*this.scale,t=(window.innerWidth-e)/2,r=(window.innerHeight-n)/2;return`left: ${t}px; top: ${r}px; width: ${e}px; height: ${n}px`},circleStyle(){if(!this.styled)return;const e=this.image.getBoundingClientRect(),n=e.y+parseInt(this.y)*this.scale,t=e.x+parseInt(this.x)*this.scale;return`left: ${t}px; top: ${n}px`}},methods:{onload(){this.loaded=!0},toggle(e){return this.blind=!this.blind,e.preventDefault(),!1},show(e){return this.blind=!1,e.preventDefault(),!1},hide(e){return this.blind=!0,e.preventDefault(),!1}},watch:{imageStyle(){this.$nextTick((()=>{this.styled=!0}))}}};const b=(0,d.Z)(y,[["render",v],["__scopeId","data-v-17c1b133"]]);var x=b,_={components:{ImageViewer:x},computed:{config(){return console.log(this.$route.params.config),JSON.parse(window.atob(decodeURIComponent(this.$route.params.config)))}}};const O=(0,d.Z)(_,[["render",f]]);var $=O;const D=[{path:"/",component:h,name:"home"},{path:"/view/:config",component:$,name:"view"}];var j=(0,i.p7)({history:(0,i.r5)(),routes:D});function k(e,n,t,r,i,u){const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(a)])}var S={};const I=(0,d.Z)(S,[["render",k]]);var U=I;const C=(0,r.ri)(U);C.use(j),C.mount("#app")}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,r,i,o){if(!r){var u=1/0;for(d=0;d<e.length;d++){r=e[d][0],i=e[d][1],o=e[d][2];for(var a=!0,l=0;l<r.length;l++)(!1&o||u>=o)&&Object.keys(t.O).every((function(e){return t.O[e](r[l])}))?r.splice(l--,1):(a=!1,o<u&&(u=o));if(a){e.splice(d--,1);var s=i();void 0!==s&&(n=s)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,i,o]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,r){var i,o,u=r[0],a=r[1],l=r[2],s=0;if(u.some((function(n){return 0!==e[n]}))){for(i in a)t.o(a,i)&&(t.m[i]=a[i]);if(l)var d=l(t)}for(n&&n(r);s<u.length;s++)o=u[s],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},r=self["webpackChunkred_dot"]=self["webpackChunkred_dot"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(8916)}));r=t.O(r)})();
//# sourceMappingURL=app.77b9ff9d.js.map