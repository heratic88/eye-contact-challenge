(function(){"use strict";var t={9233:function(t,e,n){var i=n(9242),r=n(678),o=n(3396),s=n(7139);const a=t=>((0,o.dD)("data-v-56df063c"),t=t(),(0,o.Cn)(),t),u={id:"container"},l=a((()=>(0,o._)("p",null,"This page is a work in progress!",-1))),d=["disabled"],c=["src"];function h(t,e,n,r,a,h){return(0,o.wg)(),(0,o.iD)("div",u,[l,(0,o._)("form",{onSubmit:e[3]||(e[3]=(...t)=>h.submit&&h.submit(...t))},[(0,o.wy)((0,o._)("input",{required:"","onUpdate:modelValue":e[0]||(e[0]=t=>a.url=t),type:"url",placeholder:"URL"},null,512),[[i.nr,a.url]]),(0,o.wy)((0,o._)("input",{required:"","onUpdate:modelValue":e[1]||(e[1]=t=>a.x=t),type:"hidden"},null,512),[[i.nr,a.x]]),(0,o.wy)((0,o._)("input",{required:"","onUpdate:modelValue":e[2]||(e[2]=t=>a.y=t),type:"hidden"},null,512),[[i.nr,a.y]]),(0,o._)("button",{disabled:!h.hasPosition},"Create",8,d)],32),(0,o._)("img",{src:a.url,onClick:e[4]||(e[4]=(...t)=>h.updatePosition&&h.updatePosition(...t)),ref:"image"},null,8,c),(0,o.wy)((0,o._)("div",{class:"circle",style:(0,s.j5)(h.circleStyle)},null,4),[[i.F8,h.hasPosition]])])}n(2801);var f={data(){return{url:"",x:"",y:""}},computed:{config(){return encodeURIComponent(window.btoa(JSON.stringify({url:this.url,x:this.x,y:this.y})))},circleStyle(){if(!this.hasPosition)return;const t=this.$refs.image.getBoundingClientRect(),e=t.x+parseInt(this.x)-5,n=t.y+parseInt(this.y)-5;return`left: ${e}px; top: ${n}px`},hasPosition(){return this.x.length>0&&this.y.length>0}},methods:{submit(){this.$router.push({name:"view",params:{config:this.config}})},updatePosition(t){this.x=String(t.offsetX),this.y=String(t.offsetY)}}},p=n(89);const g=(0,p.Z)(f,[["render",h],["__scopeId","data-v-56df063c"]]);var m=g;function w(t,e,n,i,r,a){const u=(0,o.up)("ImageViewer");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Uk)((0,s.zw)(a.config)+" ",1),(0,o.Wm)(u,{url:a.config.url,x:a.config.x,y:a.config.y},null,8,["url","x","y"])])}const y=["src"],v={class:"blind"},b={class:"instructions"},x={class:"instructions"};function _(t,e,n,r,a,u){return(0,o.wg)(),(0,o.iD)("div",{id:"container",onTouchstart:e[0]||(e[0]=(...t)=>u.show&&u.show(...t)),onTouchend:e[1]||(e[1]=(...t)=>u.hide&&u.hide(...t)),onMousedown:e[2]||(e[2]=(...t)=>u.show&&u.show(...t)),onMouseup:e[3]||(e[3]=(...t)=>u.hide&&u.hide(...t)),onDragstart:e[4]||(e[4]=(...t)=>u.show&&u.show(...t)),onDragend:e[5]||(e[5]=(...t)=>u.hide&&u.hide(...t))},[(0,o._)("img",{ref:"image",src:n.url,style:(0,s.j5)(u.imageStyle)},null,12,y),(0,o.wy)((0,o._)("div",v,null,512),[[i.F8,a.blind]]),(0,o.wy)((0,o._)("div",{class:"circle",style:(0,s.j5)(u.circleStyle)},null,4),[[i.F8,a.loaded&&a.blind]]),(0,o.wy)((0,o._)("div",b,"Loading, please wait",512),[[i.F8,!a.loaded]]),(0,o.wy)((0,o._)("div",x,"Keep your eyes on the red dot and tap and hold to view the image",512),[[i.F8,a.loaded&&a.blind]])],32)}var $={props:["url","x","y"],mounted(){this.$refs.image.onload=()=>{this.onload()}},data(){return{loaded:!1,styled:!1,blind:!0}},computed:{image(){return this.$refs.image},scale(){if(this.loaded)return Math.min(window.innerHeight/this.image.naturalHeight,window.innerWidth/this.image.naturalWidth)},imageStyle(){if(!this.loaded)return;const t=this.image.naturalWidth*this.scale,e=this.image.naturalHeight*this.scale,n=(window.innerWidth-t)/2,i=(window.innerHeight-e)/2;return`left: ${n}px; top: ${i}px; width: ${t}px; height: ${e}px`},circleStyle(){if(!this.styled)return;const t=this.image.getBoundingClientRect(),e=t.x+parseInt(this.x)*this.scale-5,n=t.y+parseInt(this.y)*this.scale-5;return`left: ${e}px; top: ${n}px`}},methods:{onload(){this.loaded=!0},toggle(t){return this.blind=!this.blind,t.preventDefault(),!1},show(t){return this.blind=!1,t.preventDefault(),!1},hide(t){return this.blind=!0,t.preventDefault(),!1}},watch:{imageStyle(){this.$nextTick((()=>{this.styled=!0}))}}};const O=(0,p.Z)($,[["render",_],["__scopeId","data-v-03c2e03c"]]);var S=O,D={components:{ImageViewer:S},computed:{config(){return console.log(this.$route.params.config),JSON.parse(window.atob(decodeURIComponent(this.$route.params.config)))}}};const I=(0,p.Z)(D,[["render",w]]);var j=I;const k=[{path:"/",component:m,name:"home"},{path:"/view/:config",component:j,name:"view"}];var C=(0,r.p7)({history:(0,r.r5)(),routes:k});function P(t,e,n,i,r,s){const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(a)])}var U={};const F=(0,p.Z)(U,[["render",P]]);var T=F;const W=(0,i.ri)(T);W.use(C),W.mount("#app")}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,i,r,o){if(!i){var s=1/0;for(d=0;d<t.length;d++){i=t[d][0],r=t[d][1],o=t[d][2];for(var a=!0,u=0;u<i.length;u++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(a=!1,o<s&&(s=o));if(a){t.splice(d--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[i,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,o,s=i[0],a=i[1],u=i[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(u)var d=u(n)}for(e&&e(i);l<s.length;l++)o=s[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(d)},i=self["webpackChunkred_dot"]=self["webpackChunkred_dot"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(9233)}));i=n.O(i)})();
//# sourceMappingURL=app.7180d69e.js.map